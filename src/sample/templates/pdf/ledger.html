{% extends "pdf/base_pdf.html" %}

{% block content %}
<style>
  .account-section {
    page-break-after: always;
  }
  .account-section:last-child {
    page-break-after: auto;
  }
</style>

<p>{{ company_name }}</p>
<p>{{ period }}</p>
<p>作成日時: {{ generated_at }}</p>

<h1>総勘定元帳</h1>

{% for account_name, account_data in general_ledger_data.items %}
<div class="account-section">
  <h2>{{ account_name }}</h2>
  <table>
    <thead>
      <tr>
        <th>日付</th>
        <th>摘要</th>
        <th class="right">借方金額</th>
        <th class="right">貸方金額</th>
        <th>借/貸</th>
        <th>残高</th>
      </tr>
    </thead>
    <tbody>
      {% for entry in account_data %}
      <tr>
        <td>{{ entry.date }}</td>
        <td>{{ entry.counter_account_name }}</td>
        <td class="right">{{ entry.debit_amount }}</td>
        <td class="right">{{ entry.credit_amount }}</td>
        <td>{{ entry.debit_or_credit }}</td>
        <td>{{ entry.balance }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endfor %}
{% endblock %}